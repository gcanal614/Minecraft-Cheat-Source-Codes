package Focus.Beta.IMPL.Module.impl.exploit;

import Focus.Beta.API.EventHandler;
import Focus.Beta.API.events.world.EventPreUpdate;
import Focus.Beta.IMPL.Module.Module;
import Focus.Beta.IMPL.Module.Type;
import Focus.Beta.IMPL.set.Mode;
import Focus.Beta.UTILS.world.PacketUtil;
import Focus.Beta.UTILS.world.Timer;
import net.minecraft.item.ItemFood;
import net.minecraft.item.ItemPotion;
import net.minecraft.network.play.client.C03PacketPlayer;

public class FastEat extends Module {
Timer timer = new Timer();
    public Mode<Enum> modes = new Mode<>("Modes", "Modes", Modes.values(), Modes.Timer);
    public FastEat() {super("FastEat", new String[0], Type.EXPLOIT, "Allow's to eat faster"); this.addValues(modes);}

    @EventHandler
    public void onUpdate(EventPreUpdate e){
        final boolean consumable = (this.mc.thePlayer.getHeldItem() != null && this.mc.thePlayer.getHeldItem().getItem() != null && this.mc.thePlayer.getHeldItem().getItem() instanceof ItemFood) || (this.mc.thePlayer.getHeldItem() != null && this.mc.thePlayer.getHeldItem().getItem() != null && this.mc.thePlayer.getHeldItem().getItem() instanceof ItemPotion);
        this.setSuffix(modes.getModeAsString());
        switch (modes.getModeAsString()){
            case "Verus":
                if(consumable && this.mc.thePlayer.isEating() && this.mc.thePlayer.ticksExisted % 5 == 0){
for(int a = 0; a < 5; ++a){
    PacketUtil.sendPacket(new C03PacketPlayer.C04PacketPlayerPosition(this.mc.thePlayer.posX, this.mc.thePlayer.posY + 1.0E-5, this.mc.thePlayer.posZ, false));
}
this.timer.reset();
                }
                break;
        }
    }

    enum Modes {
        Timer, Verus;
    }
}
