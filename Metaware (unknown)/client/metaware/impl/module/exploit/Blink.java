package client.metaware.impl.module.exploit;

import client.metaware.api.event.painfulniggerrapist.Listener;
import client.metaware.api.event.painfulniggerrapist.annotations.EventHandler;
import client.metaware.api.module.api.Category;
import client.metaware.api.module.api.Module;
import client.metaware.api.module.api.ModuleInfo;
import client.metaware.impl.event.impl.network.PacketEvent;
import net.minecraft.network.play.server.S40PacketDisconnect;
import org.lwjgl.input.Keyboard;

import java.util.ArrayList;

@ModuleInfo(name = "Blink", renderName = "Blink", category = Category.EXPLOIT, keybind = Keyboard.KEY_NONE)
public class Blink extends Module {
    private ArrayList packetz = new ArrayList();

    @EventHandler
    private Listener<PacketEvent> eventMoveListener = event -> {
        if (event.getPacket() instanceof net.minecraft.network.play.client.C02PacketUseEntity || event.getPacket() instanceof net.minecraft.network.play.client.C0APacketAnimation || event.getPacket() instanceof net.minecraft.network.play.client.C03PacketPlayer || event.getPacket() instanceof net.minecraft.network.play.client.C07PacketPlayerDigging || event.getPacket() instanceof net.minecraft.network.play.client.C08PacketPlayerBlockPlacement) {
            packetz.add(event.getPacket());
            event.setCancelled(true);
        }

        if (event.getPacket() instanceof S40PacketDisconnect) {
            toggled(false);
        }
    };

    @Override
    public void onEnable() {
        super.onEnable();
        packetz.clear();
    }

}
