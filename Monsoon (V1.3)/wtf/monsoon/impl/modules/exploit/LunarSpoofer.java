package wtf.monsoon.impl.modules.exploit;

import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import net.minecraft.client.Minecraft;
import net.minecraft.network.Packet;
import net.minecraft.network.PacketBuffer;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C17PacketCustomPayload;
import org.lwjgl.input.Keyboard;
import wtf.monsoon.api.Wrapper;
import wtf.monsoon.api.event.EventTarget;
import wtf.monsoon.api.event.impl.EventReceivePacket;
import wtf.monsoon.api.event.impl.EventSendPacket;
import wtf.monsoon.api.event.impl.EventUpdate;
import wtf.monsoon.api.module.Category;
import wtf.monsoon.api.module.Module;
import wtf.monsoon.api.util.misc.Timer;

import javax.vecmath.Vector3f;
import java.io.ByteArrayOutputStream;
import java.util.concurrent.CopyOnWriteArrayList;

public class LunarSpoofer extends Module {

	public LunarSpoofer() {
		super("LunarSpoofer", "Stop sending packets to the Server.", Keyboard.KEY_NONE, Category.EXPLOIT);
	}
	
	
	@EventTarget
	public void onSendPacket(EventSendPacket e) {
		Packet packet = e.getPacket();
		if(packet instanceof C17PacketCustomPayload) {
			C17PacketCustomPayload pay = (C17PacketCustomPayload)packet;
			if(pay.getChannelName().equalsIgnoreCase("MC|Brand")) {
				ByteArrayOutputStream b = new ByteArrayOutputStream();
				ByteBuf message = Unpooled.buffer();
				message.writeBytes("Lunar-Client".getBytes());
				mc.thePlayer.sendQueue.addToSendQueue(new C17PacketCustomPayload("REGISTER", new PacketBuffer(message)));
			}
		}
	}
			
	@EventTarget
	public void onUpdate(EventUpdate e) {

	}


	
	@Override
	public void onEnable() {
		super.onEnable();
	}
	
	@Override
	public void onDisable() {
		super.onDisable();
	}

	
}
