package me.module.impl.exploit;

import java.util.ArrayList;

import org.lwjgl.input.Keyboard;

import me.event.impl.EventSendPacket;
import me.hippo.api.lwjeb.annotation.Handler;
import me.module.Module;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.C03PacketPlayer;

public class Blink extends Module {
	 ArrayList<Packet> packets = new ArrayList<>();

   public Blink() {
		super("Blink", Keyboard.KEY_NONE, Category.EXPLOIT);
   }
  
   
   public void onDisable() {
      super.onDisable();
       try {
   		for(Packet packet : packets){
           mc.getNetHandler().addToSendQueueSilent(packet);
        }
         packets.clear();
       }catch(Exception e) {
      	  e.printStackTrace();
       }
   }
   
   @Handler
   public void onSendPacket(EventSendPacket event){
      if(event.getPacket() instanceof C03PacketPlayer) {
        event.cancel();
        this.setSuffix(packets.size() + "");
        this.packets.add(event.getPacket());
     }
   }
   
}
